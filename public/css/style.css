:root {
    --bg-color: #f5f7f9;
    --primary: #1c1c1e;
    --secondary: #8e8e93;
    --accent: #007aff;
    --danger: #ff3b30;
    --success: #34c759;
    --card-bg: #ffffff;
    --shadow-soft: 0 8px 24px rgba(0,0,0,0.06);
    --shadow-button: 0 4px 12px rgba(0,0,0,0.1);
}

body {
    background-color: var(--bg-color);
    font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    margin: 0;
    padding: 20px;
    color: var(--primary);
    -webkit-font-smoothing: antialiased;
    padding-bottom: 50px;
}

/* --- Header & Big Stats --- */
.header {
    display: flex; flex-direction: column; align-items: center; 
    margin-bottom: 30px; padding-top: 10px;
}

.car-title { 
    font-size: 16px; font-weight: 600; color: var(--secondary); 
    text-transform: uppercase; letter-spacing: 1px; margin-bottom: 10px;
}

.status-bar { 
    display: flex; gap: 40px; justify-content: center; width: 100%;
}

.status-item {
    display: flex; flex-direction: column; align-items: center;
}

.status-value {
    font-size: 36px; font-weight: 800; color: var(--primary); line-height: 1.1;
}

.status-label {
    font-size: 13px; font-weight: 500; color: var(--secondary); 
    margin-top: 4px; display: flex; align-items: center; gap: 6px;
}

/* Farben für Status (JS gesteuert) */
.stat-green { color: var(--success) !important; }
.stat-orange { color: #ff9f0a !important; }
.stat-red   { color: var(--danger) !important; }

/* --- Tab Nav --- */
.tab-bar { display: flex; justify-content: center; gap: 10px; margin-bottom: 20px; }
.tab-btn { background: transparent; border: none; padding: 10px 20px; font-size: 16px; font-weight: 600; color: var(--secondary); border-radius: 20px; cursor: pointer; transition: all 0.2s; }
.tab-btn.active { background: #fff; color: var(--primary); box-shadow: var(--shadow-button); }
.tab-content { display: none; }
.tab-content.active { display: block; animation: fadeIn 0.3s; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }

/* --- Auto & Wrapper --- */
.car-wrapper {
    position: relative; height: 400px; display: flex; justify-content: center; align-items: center; margin-bottom: 20px;
}
.car-container {
    position: relative; width: 140px; height: 300px;
    background: linear-gradient(135deg, #f0f0f0 0%, #dcdcdc 100%);
    border-radius: 35px 35px 45px 45px;
    box-shadow: inset 0 0 0 1px rgba(255,255,255,0.5), 0 20px 50px rgba(0,0,0,0.15);
    border: 1px solid #ccc; z-index: 1;
}
.car-container::before {
    content: ''; position: absolute; top: 55px; left: 12px; right: 12px; height: 35px;
    background: linear-gradient(180deg, #2c2c2c, #1a1a1a); border-radius: 50% 50% 10px 10px;
}
.car-container::after {
    content: ''; position: absolute; bottom: 35px; left: 18px; right: 18px; height: 25px;
    background: #2c2c2c; border-radius: 10px 10px 40% 40%;
}
/* Schiebedach (Container für Schloss) */
.sunroof {
    position: absolute;
    top: 100px;
    left: 20px;
    right: 20px;
    height: 80px;
    border: none; /* <--- KEIN RAHMEN MEHR */
    display: flex;
    justify-content: center;
    align-items: center;
}

/* Der Rest (.center-lock etc.) bleibt wie im letzten Update */
.center-lock {
    position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
    font-size: 24px; color: rgba(0,0,0,0.2); z-index: 10;
}
.car-container.locked .center-lock { color: var(--primary); opacity: 0.8; }

/* Buttons um das Auto */
.quick-btn {
    position: absolute; width: 64px; height: 64px;
    background: #fff; border: none; border-radius: 20px;
    box-shadow: var(--shadow-button); font-size: 22px; color: var(--primary);
    cursor: pointer; display: flex; align-items: center; justify-content: center;
    transition: transform 0.1s, background-color 0.2s; z-index: 2;
}
.quick-btn:active { transform: scale(0.92); background-color: #f2f2f2; }
.quick-btn.disabled { opacity: 0.6; pointer-events: none; }
.btn-fan { top: 60px; left: calc(50% - 150px); }
.btn-lock { top: 160px; left: calc(50% - 150px); }
.btn-horn { top: 110px; right: calc(50% - 150px); }

/* Visualisierung */
.door { position: absolute; background: var(--danger); box-shadow: 0 0 8px var(--danger); display: none; border-radius: 2px; }
.door.open { display: block; }
.door-fl { top: 75px; left: -3px; width: 4px; height: 40px; }
.door-fr { top: 75px; right: -3px; width: 4px; height: 40px; }
.door-rl { top: 135px; left: -3px; width: 4px; height: 40px; }
.door-rr { top: 135px; right: -3px; width: 4px; height: 40px; }
.trunk { bottom: -3px; left: 50%; transform: translateX(-50%); width: 50px; height: 4px; }
.hood { top: -3px; left: 50%; transform: translateX(-50%); width: 70px; height: 4px; }

.interior { pointer-events: none; }
.seat-fl { position: absolute; top: 110px; left: 25px; width: 40px; height: 45px; background: var(--danger); opacity: 0; border-radius: 6px; transition: opacity 0.3s; }
.seat-fl.active { opacity: 0.6; box-shadow: 0 0 15px var(--danger); }
.steering-wheel { position: absolute; top: 95px; left: 28px; width: 34px; height: 34px; border: 3px solid var(--danger); border-radius: 50%; opacity: 0; transition: opacity 0.3s; }
.steering-wheel.active { opacity: 0.8; box-shadow: 0 0 10px var(--danger); }
.rear-window-heat { position: absolute; bottom: 38px; left: 20px; right: 20px; height: 2px; background: var(--danger); opacity: 0; }
.rear-window-heat.active { opacity: 1; box-shadow: 0 0 5px var(--danger); }

/* Neue Info-Leiste */
.info-row {
    display: flex; justify-content: center; gap: 15px; margin-bottom: 25px;
}
.info-badge {
    background: #fff; border: 1px solid rgba(0,0,0,0.05); padding: 6px 12px;
    border-radius: 20px; font-size: 12px; font-weight: 600; color: var(--secondary);
    box-shadow: 0 2px 5px rgba(0,0,0,0.03); display: flex; align-items: center; gap: 6px;
}
.info-badge.active { color: var(--primary); border-color: var(--primary); }
.info-badge.warning { color: var(--danger); border-color: var(--danger); background: #fff0f0; }


/* Grid & Cards */
.cards-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; max-width: 500px; margin: 0 auto; }
.card { background: var(--card-bg); padding: 20px; border-radius: 24px; box-shadow: var(--shadow-soft); display: flex; flex-direction: column; border: 1px solid rgba(0,0,0,0.02); }
.card-title { font-size: 13px; font-weight: 600; color: var(--secondary); margin-bottom: 8px; }
.card-value { font-size: 17px; font-weight: 700; color: var(--primary); }
.card-icon { font-size: 24px; margin-bottom: 12px; color: var(--accent); }

/* Form Elements */
.range-wrap { margin: 15px 0; }
input[type=range] { width: 100%; -webkit-appearance: none; background: transparent; }
input[type=range]::-webkit-slider-thumb { -webkit-appearance: none; height: 20px; width: 20px; border-radius: 50%; background: var(--accent); margin-top: -8px; box-shadow: 0 2px 6px rgba(0,122,255,0.4); }
input[type=range]::-webkit-slider-runnable-track { width: 100%; height: 4px; background: #e0e0e0; border-radius: 2px; }
.form-input { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 10px; font-size: 16px; margin-top: 5px; box-sizing: border-box; }
.form-input:focus { border-color: var(--accent); outline: none; }

/* Loader */
#loader { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(255,255,255,0.85); backdrop-filter: blur(8px); z-index: 1000; display: none; align-items: center; justify-content: center; flex-direction: column; }
.spinner { width: 40px; height: 40px; border: 4px solid #ddd; border-top-color: var(--primary); border-radius: 50%; animation: spin 1s linear infinite; margin-bottom: 15px; }
@keyframes spin { 100% { transform: rotate(360deg); } }